# PLAN TCNICO: Bot贸n de Investigar despu茅s de Disimular

## Descripci贸n de la Funcionalidad

Una vez que ocurre el countDown de la disimularSequence (despu茅s de que en c贸digo hagamos "// Esperar 3 segundos mostrando "DISIMULANDO" await new Promise(resolve => setTimeout(resolve, 3000));"), en vez de volver a la "mainContent", se mostrar谩 un bot贸n que pone "(EMOJI NARIZ) INVESTIGAR".

Ese bot贸n solo est谩 disponible para el jugador 1. El resto no ve un bot贸n, solo ve "(EMOJI NARIZ)". No clicable.

Cuando el jugador 1 pulse el bot贸n "INVESTIGAR", lo que har谩 ser谩 cambiar el documento de partida `/pedorros-game/{codigo-juego}` el campo "state" y pondr谩 ese valor a "ACUSE".

## Archivos y Funciones que Deben Cambiarse

### 1. `web/script.js`
- **Funci贸n `startDisimularSequence()`** - Modificar para mostrar bot贸n de investigar en lugar de volver a mainContent
- **Nueva funci贸n `showInvestigarButton()`** - Mostrar bot贸n de investigar para jugador 1, texto para otros
- **Nueva funci贸n `handleInvestigarClick()`** - Manejar clic del bot贸n investigar y cambiar estado a "ACUSE"

### 2. `web/firebase-database.js`
- **Nueva funci贸n `updateGameState()`** - Actualizar el campo "state" del juego en Firebase

### 3. `web/index.html`
- **Nuevo contenedor** para el bot贸n/texto de investigar
- **Nuevo bot贸n** con emoji de nariz y texto "INVESTIGAR"

### 4. `web/styles.css`
- **Nuevos estilos** para el contenedor y bot贸n de investigar

## Algoritmo Paso a Paso

### Fase 1: Modificar la secuencia de disimular
1. En `startDisimularSequence()`, despu茅s de los 3 segundos de "DISIMULANDO", en lugar de mostrar mainContent, llamar a `showInvestigarButton()`

### Fase 2: Mostrar bot贸n/texto de investigar
1. Crear funci贸n `showInvestigarButton()` que:
   - Para jugador 1: Muestra bot贸n clicable "() INVESTIGAR"
   - Para otros jugadores: Muestra solo texto "()" no clicable
   - Oculta el contenedor de disimular

### Fase 3: Manejar clic del bot贸n investigar
1. Crear funci贸n `handleInvestigarClick()` que:
   - Llama a `updateGameState()` para cambiar estado a "ACUSE"
   - Actualiza el estado local del juego
   - Prepara la transici贸n al siguiente estado

### Fase 4: Actualizar base de datos
1. Crear funci贸n `updateGameState()` en firebase-database.js que:
   - Actualiza el campo "state" del documento del juego
   - Retorna resultado de la operaci贸n

## Fases de Implementaci贸n

### Fase 1: Capa de Datos
- Crear funci贸n `updateGameState()` en `firebase-database.js`
- Implementar l贸gica para actualizar estado del juego

### Fase 2: L贸gica de Presentaci贸n
- Modificar `startDisimularSequence()` en `script.js`
- Crear funci贸n `showInvestigarButton()`
- Crear funci贸n `handleInvestigarClick()`

### Fase 3: Interfaz de Usuario
- Agregar elementos HTML en `index.html`
- Implementar estilos CSS en `styles.css`

## Detalles T茅cnicos

- **Emoji**: Usar "" para representar la nariz
- **Estado**: Cambiar de estado actual a "ACUSE"
- **Permisos**: Solo jugador 1 puede interactuar con el bot贸n
- **Transici贸n**: Reemplazar pantalla de disimular por bot贸n/texto de investigar
- **Base de datos**: Actualizar campo "state" en documento `/pedorros-game/{codigo-juego}`
